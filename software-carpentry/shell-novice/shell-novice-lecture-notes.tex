%% Course Materials on Software Carpentry: Shell Novice
%% - by Craig Squires
\documentclass[
 size=12pt,
 paper=screen,
 mode=present,
 display=slidesnotes,
 style=paintings,
 nohandoutpagebreaks,
]{powerdot}

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{hyperref}

\pdsetup{
  palette=Lamentation,
  lf=SC: Shell Novice: Lecture Notes,
  cf=\today,
  rf=\arabic{slide}~/~\pageref*{lastslide},
  trans=Wipe,
  list={itemsep=6pt},
  %logohook=t,
  %logopos={.92\slidewidth,1.046\slideheight},
  %logocmd={\includegraphics[height=.2\slideheight]{dhsi-logo-2014-final1.ps}}
}

\hypersetup{
  %colorlinks=false,
  %linkbordercolor=red,
  allbordercolors=0 0 1,
  pdfborderstyle={/S/U/W 2}
}

\title{Software Carpentry / Shell Novice \\ Lecture Notes}
\author{Craig Squires}
\date{\today}

\begin{document}
\maketitle

\begin{slide}{Overview:}
  \vspace{\stretch{1}}
%  \hspace{\stretch{1}}
  \tableofcontents[content=sections]
%  \hspace{\stretch{1}}
  \vspace{\stretch{1}}
\end{slide}

\section[slide=false]{Setup}

\begin{slide}{Setup:}
  \vspace{\stretch{1}}
  \begin{itemize}
%    \begingroup
%    \fontsize{8}{10}\selectfont
     \item Download and install the data
     \item How to open a shell
       \begin{itemize}
          \item Linux
          \item Mac OS
          \item Windows
       \end{itemize}
%    \endgroup
  \end{itemize}
  \vspace{\stretch{1}}
\end{slide}

\section[slide=false]{Introducing the Shell}

\begin{slide}{Introducing the Shell:}
  \vspace{\stretch{1}}
  \begin{itemize}
%    \begingroup
%    \fontsize{8}{10}\selectfont
     \item GUI vs CLI/TUI (compare)
     \item Nelle's Pipeline
     \item my UNIX story: early '90s (the adventure)
%    \endgroup
  \end{itemize}
  \vspace{\stretch{1}}
\end{slide}

\section[slide=false]{Navigating Files and Directories}

\begin{slide}{Navigating Files and Directories:}
  \vspace{\stretch{1}}
  \begin{itemize}
%    \begingroup
%    \fontsize{8}{10}\selectfont
     \item whoami ( whereami (errors) )
     \item pwd (paths, relative and absolute, / vs \textbackslash, names)
     \item ls (switches (parameters vs arguments):
        \begin{itemize}
           \item -F, -R, -j, -a, -t, -r, 'man ls' vs -h, \textbar more or less, how many?)
           \item digression: grep (-v ":", -v "\textasciicircum\$")\textbar wc
           \item lots of commands: which ls, ls /usr/bin \textbar wc
           \item jump ahead: find . -type f, find . -type d
        \end{itemize}
     \item cd (., .., \textasciitilde)
     \item tab completion and history and \textbf{text} ("Ctrl-r", "!!", "!\$",)
%    \endgroup
  \end{itemize}
  \vspace{\stretch{1}}
\end{slide}

\section[slide=false]{Working With Files and Directories}

\begin{slide}{Working With Files and Directories:}
  \vspace{\stretch{1}}
  \begin{itemize}
%    \begingroup
%    \fontsize{8}{10}\selectfont
     \item mkdir ('thesis', naming things: please no spaces!)
     \item less and nano (editor wars: vi, emacs, Gedit)
     \item touch (empty files, file update time)
     \item rm (deletion is forever..., rm -rf *, rm -i)
     \item mv (be careful of silent overwrites! -i)
     \item cp (also accepts multiple files if last arg is a directory)
%    \endgroup
  \end{itemize}
  \vspace{\stretch{1}}
\end{slide}

\section[slide=false]{Pipes and Filters}

\begin{slide}{Pipes and Filters:}
  \vspace{\stretch{1}}
  \begin{itemize}
    \begingroup
    \fontsize{8}{8}\selectfont
     \item wc ('molecules': wc *.pdb, *t*ne.pdb, *t??ne.pdb, -l, -w, -c)
     \item wildcards: *, ?, [abc]
     \item redirection: wc -l * $>$ lengths.txt
     \item echo: echo "hello" $>$ hellos.txt, echo "hello" $>$$>$ hellos.txt
     \item cat: cat hellos.txt, cat lengths.txt
     \item head:wc -l * \textbar head -n 1
     \item tail:wc -l * \textbar tail -n 1
     \item sort:wc -l * \textbar sort -n
     \item each process has 'channels': STDIN, STDOUT, STDERR
     \item "\textbar" and "$>$" and "$<$" connect these channels
     \item cat data/animals.txt \textbar head -n 5 \textbar tail -n 3 \textbar sort -r \textbar uniq
     \item cat data/salmon.txt \textbar uniq, sort data/salmon.txt \textbar uniq (sort -u)
     \item cut -d , -f 2 data/animals.txt (\textbar sort \textbar uniq -c \textbar wc -l)
     \item sed and awk
    \endgroup
  \end{itemize}
  \vspace{\stretch{1}}
\end{slide}

\section[slide=false]{Loops}

\begin{slide}{Loops:}
  \vspace{\stretch{1}}
  \begin{itemize}
    \begingroup
    \fontsize{8}{8}\selectfont
     \item for/in/do/done: 'creatures': for [i or x or file] in [list or fork] do [task] done
     \item how to get lists:
     \begin{itemize}
        \item wildcards ("*", "?", "[]")
	\item forks: \$( commands: 'ls', 'find', 'cut' )
     \end{itemize}
     \item dry runs (you could damage things...): use echo "to show what would be done"
     \item nested loops: problem: in data/pdb
     \begin{itemize}
        \item find how many atoms, and how many atoms of each type, in each file
     \end{itemize}
    \endgroup
  \end{itemize}
  \vspace{\stretch{1}}
\end{slide}

\section[slide=false]{Shell Scripts}

\begin{slide}{Shell Scripts:}
  \vspace{\stretch{1}}
  \begin{itemize}
%    \begingroup
%    \fontsize{8}{10}\selectfont
     \item 'bash filename' (forking and environments)
     \item arguments: \$1 \$2 etc. ("\$@")
     \item comments
     \item extract a script from history (use the number of atoms problem)
     \item file magic and permissions ("hash bang slash bin slash bash" (shebang))
%    \endgroup
  \end{itemize}
  \vspace{\stretch{1}}
\end{slide}

\section[slide=false]{Finding Things}

\begin{slide}{Finding Things:}
  \vspace{\stretch{1}}
  \begin{itemize}
%    \begingroup
%    \fontsize{8}{10}\selectfont
     \item grep
     \item find
     \item "\$()" or "``"
     \item man command
%    \endgroup
  \end{itemize}
  \vspace{\stretch{1}}
\end{slide}

\end{document}
